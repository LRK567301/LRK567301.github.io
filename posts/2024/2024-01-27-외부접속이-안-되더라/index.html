<!DOCTYPE html>
<html lang="ko-kr"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="공유기가 죽었나? 아니다. 오버워치도 잘만 하다 나왔는데? 와이어가드 vpn도 접속된다. 접속 된&hellip;..응? 그냥 되는 척이구나? 외부망에서 와이어가드 접속한 상태에서 192.168.50.1도 데탑 smb도 아무것도 안 돼. 데탑 smb는 윈도우 방화벽이 꼬였다 쳐도 공유기 관리 페이지조차 접근이 안 되는건 심각한 문제.
돌아와서 진짜 로컬에서 붙어보니 데탑 인터넷도 공유기 관리 페이지도 다른 기기에서 smb 연결도 너무 멀쩡하다. 하&hellip;&hellip;&hellip;뭐지?
도커랑 윈도우 네트워크가 나란히 애먹이던 시절이 있었으니 도커도 의심했다. 너무 멀쩡해. localhost:4001로 컨테이너 잘 돌고 있어.">  

  <title>
    
      외부접속이 안 되더라
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/" />
  
  
  
  <link rel="stylesheet" href="/css/main.51652302d3a998bf7887aed5c2cf89141bbebdf45a2c8f87b0717a3cf4f51c4e53c694c328fb1de78c3a625a1c01f80745bf1f2f42c040647a245cbbb6c2d1d7.css" integrity="sha512-UWUjAtOpmL94h67Vws&#43;JFBu&#43;vfRaLI&#43;HsHF6PPT1HE5TxpTDKPsd54w6YlocAfgHRb8fL0LAQGR6JFy7tsLR1w==" />
  
</head>
<body a="auto">
        <main class="page-content" aria-label="Content">
            <div class="w">
                <div class="post-meta">
                    <a href="/">..</a>

                    <p>
                        <time datetime="2024-01-27 18:05:00 &#43;0900 KST">
                            2024-01-27
                        </time>
                    </p>
                </div>

<article>
    <h1>외부접속이 안 되더라</h1>

    

    <p>공유기가 죽었나? 아니다. 오버워치도 잘만 하다 나왔는데? 와이어가드 vpn도 접속된다. 접속 된&hellip;..응? 그냥 되는 척이구나? 외부망에서 와이어가드 접속한 상태에서 192.168.50.1도 데탑 smb도 아무것도 안 돼. 데탑 smb는 윈도우 방화벽이 꼬였다 쳐도 공유기 관리 페이지조차 접근이 안 되는건 심각한 문제.</p>
<p>돌아와서 진짜 로컬에서 붙어보니 데탑 인터넷도 공유기 관리 페이지도 다른 기기에서 smb 연결도 너무 멀쩡하다. 하&hellip;&hellip;&hellip;뭐지?</p>
<p>도커랑 윈도우 네트워크가 나란히 애먹이던 시절이 있었으니 도커도 의심했다. 너무 멀쩡해. localhost:4001로 컨테이너 잘 돌고 있어.</p>
<p>와이어가드가 접속된 척만 하고 내부망이랑 공유기 관리페이지 접근 못하는건 여전하길래 공유기를 초기화했다. 그제서야 외부망에서 와이어가드가 멀쩡해.</p>
<p><a href="https://gnuton.github.io/asuswrt-merlin.ng/">https://gnuton.github.io/asuswrt-merlin.ng/</a></p>
<p>잠깐 멀린펌도 생각났지만 nvram get productid로 확인해보니 내 공유기는 멀린 포크펌도 미지원하는 TUF-AX5400_V2였다.</p>
<p>그렇다면 이 모든 걸 뿌려주고 있는 윈도우 caddy&hellip;&hellip;.아, 얘구나. 얘가 도메인 인증 못하고 오류를 뿜어내고 있네. 근데 캐디 버전 탓도 아니고 인터넷 회선의 80/443 포트가 막힌 것도 아니고 공유기도 멀쩡해졌는데 왜 죽어라 캐디만 외부연결을 못하는&hellip;&hellip;.아&hellip;&hellip;&hellip;아!</p>
<p>모든 게 귀찮아져서 내부 서비스 줄이고 공유기 ddns로 때울까 싶어 정펌에서 duckdns를 연동하는 방법을 찾다 보니 아차 싶다. DDNS잖아? IP가 바뀌니까 쓰는 거잖아? 그제서야 공유기에 찍힌 외부 IP랑 duckdns IP가 다른게 눈에 보이더라. IP가 안 바뀌어서 잊고 있었어. 공유기랑 모뎀 위치 옮기고 재부팅 몇번을 해도 그대로였는데 갑자기 언제 바뀌었대니&hellip;.공유기 초기화해버려서 로그도 못 보는군.</p>
<p>어쨌건 해프닝으로 해결. DDNS도 고려해봐야겠고 와이어가드도 공유기 외부관리포트 열어두고 그때그때 QR코드로 연결하는게 낫겠다. conf 파일에 도메인이 아니라 IP가 지정되어 있는게 이런 상황에서 신뢰성을 박살내.</p>

</article>

            </div>
        </main>
    </body></html>
